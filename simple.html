<html>
	<head>
		<script src="hui.js"></script>
		<script>
			var data = document.data;
			function Circle(x, y, r) { 
				this.x = x; 
				this.y = y; 
				this.r = r; 
				this.neighbours = []; 

				this.inside = function(x, y) {
					return (x - this.x) * (x - this.x) + (y - this.y) * (y - this.y) <= this.r * this.r; 
				}

				this.addNeighbour = function(num) {
					this.neighbours.push(num); 
				}
			}

			function Edge(u, v) {
				this.u = u; 
				this.v = v; 
			}

			window.onload = function() {
				var canvas = document.getElementById('cv'),
				    elemLeft = canvas.offsetLeft,
				    elemTop = canvas.offsetTop,
				    context = canvas.getContext('2d'),
				    elements = [], 
				    edges = []; 

				// Add event listener for `click` events.
				canvas.addEventListener('click', function(event) {
				    var x = event.pageX - elemLeft,
				        y = event.pageY - elemTop;

				    // Collision detection between clicked offset and element.
				    elements.forEach(function(element) {
				        if (element.inside(x, y)) {
				            alert('clicked an element');
				        }
				    });

				}, false);

				data.nodes.forEach(function(point) {
					elements.push(new Circle(point[0], point[1], 10));
				});

				data.edges.forEach(function(edge) {
					edges.push(new Edge(edge[0], edge[1]));
				});

				edges.forEach(function(edge) {
					circleu = elements[edge.u];
					circlev = elements[edge.v];
					context.beginPath();
					context.moveTo(circleu.x, circleu.y);
					context.lineTo(circlev.x, circlev.y);
					context.stroke();
				}); 

				context.fillStyle = 'red';
				elements.forEach(function(element) {
					context.beginPath();      
					context.arc(element.x, element.y, element.r, 0, Math.PI * 2, true);            
					context.fill();
				});
			}
		</script>
	</head>
	<body>
		<canvas id='cv' width=1000 height=1000></canvas>
	</body>
</html>